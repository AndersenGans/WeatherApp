@model List<WeatherApp_OKopot.Entities.HistoryEntity>

@{
    ViewBag.Title = "HistoryOfWeather";
}

<h2 class="back">History of requests</h2>
    
<div class="back">
    @Html.ActionLink("Back", "Index") |
    @Html.ActionLink("Clear", "ClearHistory")
    <table class="table">
        <tr style="font-size: 16pt;">
            <td>
                <b>City</b>
            </td>
            <td>
                <b>Time</b>
            </td>
            <td>
                <b>Weather</b>
            </td>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @item.CityEntity.AlternativeName
                </td>
                <td>
                    @item.Time
                </td>
                <td class="weather-item">
                    <span>@item.Time.DayOfWeek</span>
                    <br/>
                    <span>@item.Time.Year-@item.Time.Month-@item.Time.Day</span>
                </td>
                <td>
                    <img alt="@item.CityEntity.WeatherEntities.ToList()[0].DescWeather" src="/Content/w_img/@item.CityEntity.WeatherEntities.ToList()[0].IconId"/>
                </td>
                <td class="weather-item">
                    <span>@item.CityEntity.WeatherEntities.ToList()[0].MainWeather</span> <br/>
                    <span class="list-day">@item.CityEntity.WeatherEntities.ToList()[0].DayAvgTemp °C</span>
                    <span class="list-night">@item.CityEntity.WeatherEntities.ToList()[0].DayMinTemp °C</span>
                </td>
                <td>
                    <span>Wind speed: @item.CityEntity.WeatherEntities.ToList()[0].WindSpeed m/s</span><br/>
                    <span>Pressure: @item.CityEntity.WeatherEntities.ToList()[0].Pressure hpa</span>
                </td>
                <td>
                    <span>Clouds: @item.CityEntity.WeatherEntities.ToList()[0].Cloudiness %</span><br/>
                    <span>Humidity: @item.CityEntity.WeatherEntities.ToList()[0].Humidity %</span>
                </td>
            </tr>
        }
    </table>
</div>
